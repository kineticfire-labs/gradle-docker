You are Principal Software Engineer and expert at Java, Gradle, custom Gradle plugins, Groovy, Docker, and Docker
Compose.  You are on a team building a custom Gradle plugin to build, tag, save, publish, and test Docker images. Read
the @CLAUDE.md file to understand the project and follow the guidelines exactly.


You are Principal Software Engineer and expert at Java, Gradle, custom Gradle plugins, Groovy, Docker, and Docker
  Compose.  You are on a team building a custom Gradle plugin to build, tag, save, publish, and test Docker images. Read
  the @CLAUDE.md file to understand the project and follow the guidelines exactly.

  You will write a specific, new integration test to test and prove and demonstrate aspects of the plugin.  Your integration test must be compatible with Gradle and 10, especially
  the build cache configuration, per @docs/design-docs/gradle-9-and-10-compatibility.md .

  Your integration test will cover aspects related to 'docker' DSL task so functionality like: build, tag, save, and publish.  Analyze the existing integration tests for the
  'docker' DSL tasks in @plugin-integration-test/docker/ .  Understand usage for the 'docker' DSL task at @docs/usage/usage-docker.md .  Understand and use the common integration
  test capabilities in the buildSrc at @plugin-integration-test/buildSrc/ .

  Your task is to write a new integration test, called 'scenario-6' at @plugin-integration-test/docker/scenario-6/ , that must provide an integration test using a build.gradle file
  for these aspects:





  You are Principal Software Engineer and expert at Java, Gradle, custom Gradle plugins, Groovy, Docker, and Docker
    Compose.  You are on a team building a custom Gradle plugin to build, tag, save, publish, and test Docker images. Read
    the @CLAUDE.md file to understand the project and follow the guidelines exactly.

    You will write a specific, new integration test to test and prove and demonstrate aspects of the plugin.  Your integration test must be compatible with Gradle and 10, especially
    the build cache configuration, per @docs/design-docs/gradle-9-and-10-compatibility.md .

    Your integration test will cover aspects related to 'docker' DSL task so functionality like: build, tag, save, and publish.  Analyze the existing integration tests for the
    'docker' DSL tasks in @plugin-integration-test/docker/ .  Understand usage for the 'docker' DSL task at @docs/usage/usage-docker.md .  Understand and use the common integration
    test capabilities in the buildSrc at @plugin-integration-test/buildSrc/ .

    Your task is to write a new integration test, called 'scenario-6' at @plugin-integration-test/docker/scenario-6/ , that must provide an integration test using a build.gradle file
    for these aspects:
    - build 1 image, using the common 'app' JAR as the executable. verify the image was built.
       - as part of the build, add 2 build args using the 'putAll' configuration method
       - as part of the build, add 2 labels using the 'putAll' configuration method
       - use the "repository mode" from naming the image, and use: repository (do NOT use 'registry')
       - the image must have a name so as not conflict with other images.  since this is scenario-6, then prefix the image name with 'scenario-6'
    - create 2 tags for the image such as 'latest' and '1.0.0', and verify the tagged images are present
    - save the image using compression type 'xz', and verify the image was saved to the filesystem
    - publish the image to the same registry that uses authentication.  use a local registry.
       - use the "repository mode" when defining the images to publish and specify:
          - registry
          - repository
          - 2 tags, different than what was defined at build such as 'edge' and 'test'
       - for the registry, pick a port that doesn't conflict with other tests.  the naming convention is to use a 4-digit port number, and the 'tens' digit is the number of the
    integration test so a port might be 5060.




 You are Principal Software Engineer and expert at Java, Gradle, custom Gradle plugins, Groovy, Docker, and Docker
 Compose.  You are on a team building a custom Gradle plugin to build, tag, save, publish, and test Docker images. Read
 the @CLAUDE.md file to understand the project and follow the guidelines exactly.  Your task is to create helpers for the integration tests that check that build labels, if
 configured in the image build DSL, were actually set in the resultant image.

 Your code edits must be compatible with Gradle 9 and 10 per @docs/design-docs/gradle-9-and-10-compatibility.md , follow that document exactly.

 Your helpers support integration tests for the 'docker' DSL task related to image tasks like: build, sourceRef (and its components), tag, save, and publish.  See the usage for
 these at @docs/usage/usage-docker.md .

 Your task is to write integration test helpers, that is common code to be re-used, to test that build labels set for image build are actually present in the resultant image.  The
 integration tests are at @plugin-integration-test/ and the build source helpers common code is at @plugin-integration-test/buildSrc/ .

 See integration test scenarios @plugin-integration-test/docker/scenario-1/ and @plugin-integration-test/docker/scenario-2/ as examples for integration tests that set build labels.
 Note that some test scenarios may not have any build labels.

 Your integration test helper to check build labels
 - must run after the image is (1) built and (2) tagged, including if multiple tags are applied
 - must check that 1 or more build labels are present, and must check that for multiple image tags

 I don't think it is possible to check an image that 0 build labels are set, I think you must query for a specific build labels?  Please investigate that.  If it is possible, then your
 helper must have the ability to check that no build labels were set.

 Note that a similar task was recently completed that did a similar check for "build args", so your build source helpers and checks should model that.

 Demonstrate that your integration test helper for build labels works by implementing it for these integration test scenarios, and prove that the tests pass:
 (1) @plugin-integration-test/docker/scenario-2/ -- 1 build label
 (2) @plugin-integration-test/docker/scenario-1/ -- 2 build label
 (3) @plugin-integration-test/docker/scenario-3/ -- no build labels; only do this one if is indeed possible to check that an image has no build labels

 Analyze, investigate, and plan and recommend.  Do NOT edit any files.