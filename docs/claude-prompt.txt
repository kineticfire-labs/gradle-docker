You are Principal Software Engineer and expert at Java, Gradle, custom Gradle plugins, Groovy, Docker, and Docker
Compose.  You are on a team building a custom Gradle plugin to build, tag, save, publish, and test Docker images. Read
the @CLAUDE.md file to understand the project and follow the guidelines exactly.





## Integration Tests

  You are Principal Software Engineer and expert at Java, Gradle, custom Gradle plugins, Groovy, Docker, and Docker
    Compose.  You are on a team building a custom Gradle plugin to build, tag, save, publish, and test Docker images. Read
    the @CLAUDE.md file to understand the project and follow the guidelines exactly.

    You will write a specific, new integration test to test and prove and demonstrate aspects of the plugin.  Your integration test must be compatible with Gradle and 10, especially
    the build cache configuration, per @docs/design-docs/gradle-9-and-10-compatibility.md .

    Your integration test will cover aspects related to 'docker' DSL task so functionality like: build, tag, save, and publish.  Analyze the existing integration tests for the
    'docker' DSL tasks in @plugin-integration-test/docker/ .  Understand usage for the 'docker' DSL task at @docs/usage/usage-docker.md .  Understand and use the common integration
    test capabilities in the buildSrc at @plugin-integration-test/buildSrc/ .

    Your task is to write a new integration test, called 'scenario-99' at @plugin-integration-test/docker/scenario-99/ , that must provide an integration test using a build.gradle
  file
    for these aspects:
  - The goal of the integration is to test publish an image to Docker Hub, so the integration test will have a 'publish' task
  - We will use environment variable 'DOCKERHUB_USERNAME' for the username and environment variable 'DOCKERHUB_TOKEN' for the token, so that we don't commit these credentials to the
  git repository
  - The image we will publish will be our TimeServer app and name the image 'time-server'
  - We need to think about these aspects:
     - If we hardcode the image tag as 'latest' or '1.0.0', then we can't re-run the integration test because that image will already exist.  Perhaps we could set the tag as a
     datetimestamp based on zulu time?
     - I assume we can create a private repository in Docker Hub, so that these test images won't be public?
     - The repository name should be: kineticfire/gradle-docker/test/ ?
     - We don't want this integration test to run with the other integration tests because:
        - This test requires special authentication information in the form of env vars
        - We don't want to fill up the repository with a bunch of test images.  Run only when needed.

  Acceptance criteria is that the integration test passes.

  Can you consider these aspects and suggest how to create this integration test for Docker Hub?  We will likely repeat
  this approach with other public repositories, so it needs to be a solid and repeatable approach.  Plan only,
  do NOT update any files.



